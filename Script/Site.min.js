var ap=angular.module("AzurePing",[]);ap.controller("AzurePingCtrl",["$scope","$http",function(n,t){n.datacentres=[{location:"West USA (California)",url:"westusa"},{location:"North Central USA (Chicago, IL)",url:"northcentralusa"},{location:"East USA (Virginia)",url:"eastusa"},{location:"North Europe (Dublin, Ireland)",url:"northeurope"},{location:"East Asia (Hong Kong, China)",url:"eastasia"}],n.run=function(){angular.forEach(n.datacentres,function(n){n.latencyMessage="Loading...";var i="http://"+n.url+"-azure.azurewebsites.net/Tiny.ashx?callback=JSON_CALLBACK";t.jsonp(i,{cache:!1,timeout:1e4}).error(function(t){n.failureReason=t}).success(function(){var r=(new Date).getTime();t.jsonp(i,{cache:!1,timeout:1e4}).error(function(t){n.failureReason=t}).success(function(){var i=(new Date).getTime(),t=i-r;n.latencyMilliseconds=t,n.latencyMessage=t+" ms"})})})}}])